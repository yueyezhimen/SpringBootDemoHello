import{n as a,o as e,b as t,w as n,k as s,f as r,d as l,e as i,F as u,C as o,q as c,S as h,G as g,h as d,j as k,t as m,m as f,H as _}from"./index.5bee6499.js";import{_ as p}from"./uni-search-bar.a6407ab5.js";import{c as y,r as C}from"./config.cf703286.js";import{_ as b}from"./plugin-vue_export-helper.21dcd24c.js";var S=b({data:()=>({ranking_list_height:"10000rpx",rankingList:[{title:"正在加载总赛",menu:["总赛"],data:[{key:1,name:"加载中。。。。",num:"0",price:"0"}]},{title:"正在加载分赛",menu:["分赛"],data:[{key:1,name:"加载中。。。。",num:"0",price:"0"}]}],rankingStatus:0,rankingCurrent:0}),onShareAppMessage:()=>({title:"总排名",path:"/pages/matchlist/list"}),onShareTimeline(){var a=this.onShareAppMessage();return a.query=a.path,a},onLoad(){this.reqUrl("showrankformat",{}),this.setHeight(0)},methods:{onclick:function(e,t,n){console.log(t),a({url:"../item/item?id="+e+"&name="+t+"&number="+n})},rankingTabs(a){this.rankingStatus=a,this.rankingCurrent=a,this.setHeight(a)},rankingChange(a){let e=a.detail.current;this.rankingStatus=e,this.rankingCurrent=e,this.setHeight(e)},setHeight(a){var e=this.rankingList[a].data.length;e<10&&(e=10);var t=170+90*(e+2);this.ranking_list_height=t+"rpx"},search(a){this.reqUrl("searchformat",{search:a.value})},input(a){console.log("----input:",a)},clear(a){},blur(a){},focus(a){},cancel(a){this.reqUrl("showrankformat",{}),this.setHeight(0)},reqUrl(a,e){y.request({url:a,data:e,success:a=>{var e=a.data.data.list;"string"==typeof e&&(e=JSON.parse(e));var t=e.result;console.log(e),this.rankingList=t,console.log(t[0].data.length),this.setHeight(0)}})}}},[["render",function(a,y,b,S,v,q){const H=C(o("uni-search-bar"),p),x=f,L=c,j=h,U=_,V=g;return e(),t(L,{class:"container"},{default:n((()=>[s(L,{class:"body"},{default:n((()=>[s(L,{class:"ranking_list",style:r({height:v.ranking_list_height})},{default:n((()=>[s(H,{onConfirm:q.search,focus:!1,modelValue:a.searchValue,"onUpdate:modelValue":y[0]||(y[0]=e=>a.searchValue=e),placeholder:"请输入姓名或者学号",onBlur:q.blur,onFocus:q.focus,onInput:q.input,onCancel:q.cancel,onClear:q.clear},null,8,["onConfirm","modelValue","onBlur","onFocus","onInput","onCancel","onClear"]),s(j,{"scroll-x":"true",class:"ranking_state_tab","scroll-with-animation":""},{default:n((()=>[(e(!0),l(u,null,i(v.rankingList,((a,r)=>(e(),t(L,{key:r,onClick:a=>q.rankingTabs(r)},{default:n((()=>[s(x,{class:d(v.rankingStatus==r?"rankingStatus":"")},{default:n((()=>[k(m(a.title),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1}),s(V,{style:{height:"100%"},duration:500,onChange:q.rankingChange,current:v.rankingCurrent},{default:n((()=>[(e(!0),l(u,null,i(v.rankingList,((a,r)=>(e(),t(U,{key:r},{default:n((()=>[s(L,{class:"table"},{default:n((()=>[s(L,{class:"th"},{default:n((()=>[(e(!0),l(u,null,i(a.menu,((a,s)=>(e(),t(x,{key:s},{default:n((()=>[k(m(a),1)])),_:2},1024)))),128))])),_:2},1024),(e(!0),l(u,null,i(a.data,((a,r)=>(e(),t(L,{key:r,class:"td",onClick:e=>q.onclick(a.id,a.username,a.studentNumber)},{default:n((()=>[1==a.key?(e(),t(x,{key:0,class:"num num1"},{default:n((()=>[k(m(a.key),1)])),_:2},1024)):2==a.key?(e(),t(x,{key:1,class:"num num2"},{default:n((()=>[k(m(a.key),1)])),_:2},1024)):3==a.key?(e(),t(x,{key:2,class:"num num3"},{default:n((()=>[k(m(a.key),1)])),_:2},1024)):(e(),t(x,{key:3,class:"num"},{default:n((()=>[k(m(a.key),1)])),_:2},1024)),s(x,null,{default:n((()=>[k(m(a.name),1)])),_:2},1024),s(x,null,{default:n((()=>[k(m(a.num),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["onChange","current"])])),_:1},8,["style"])])),_:1})])),_:1})}],["__scopeId","data-v-2691a294"]]);export{S as default};
